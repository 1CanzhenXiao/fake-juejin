**å¹²å‡€**çš„ä»£ç (clean code)ä¸åªæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ä»£ç ã€‚å®ƒæŒ‡çš„æ˜¯ç»„ç»‡æ•´é½ã€æ˜“äºé˜…è¯»ã€æ˜“äºç†è§£ä¸”æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚
è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ React ä¸­**å¹²å‡€**çš„ä»£ç çš„ä¸€äº›æœ€ä½³å®è·µã€‚åšå¥½è¿™äº›ï¼Œè®©ä½ åœ¨åº¦å‡ â›±ï¸ æ—¶è½»æ¾æƒ¬æ„ï½
## ä¸€ã€ä¸ºæ‰€æœ‰å±æ€§æä¾›æ˜¾å¼ç±»å‹
åœ¨ä½¿ç”¨ **TypeScript** æ—¶ï¼Œå¾ˆå¤šäººç»å¸¸è·³è¿‡ä¸ºå±æ€§æä¾›æ˜¾å¼ç±»å‹ï¼Œä»è€Œäº«å—ä¸åˆ° **TypeScript** æä¾›çš„èƒ½åŠ›ã€‚æˆ‘ä»¬ç»å¸¸èƒ½çœ‹åˆ°ä»¥ä¸‹ä»£ç ï¼š
#### å ğŸŒ° 1 å·ï¼š
```typescript
const Component = ({ children }: any) => {
  // ...
};
```
#### å ğŸŒ° 2 å·ï¼š
```typescript
const Component = ({ children }: Object) => {
  // ...
};
```
ç”¨ **interface** æ¥æ°å½“åœ°æè¿°å±æ€§è®©ä½ çš„ä»£ç æ›´åŠ **ä¼˜é›…**å§ï¼Œè¿™æ ·ç¼–è¾‘å™¨ä¹Ÿä¼šç»™ä½ å‡†ç¡®çš„æç¤ºã€‚
#### å¥½ ğŸŒ° 1å·ï¼š
```typescript
import { ReactNode } from "react";

interface ComponentProps {
  children: ReactNode;
}

const Component = ({ children }: ComponentProps) => {
  // ...
};
```
#### å¥½ ğŸŒ° 2å·ï¼š
```typescript
import { ReactNode, PropsWithChildren } from "react";

interface ComponentProps {
  otherProp: string;
}

const Component = ({ children, otherProp }: PropsWithChildren<ComponentProps>) => {
  // ...
};
```
## äºŒã€åœ¨æ›´æ–°çŠ¶æ€æ—¶è€ƒè™‘ä»¥å‰çš„çŠ¶æ€
å¦‚æœæ–°çŠ¶æ€ä¾èµ–äºå…ˆå‰çŠ¶æ€ï¼Œåˆ™å§‹ç»ˆå»ºè®®å°†çŠ¶æ€è®¾ç½®ä¸ºå…ˆå‰çŠ¶æ€çš„å‡½æ•°ã€‚ React çŠ¶æ€æ›´æ–°å¯ä»¥æ‰¹é‡å¤„ç†ï¼Œä¸ä»¥è¿™ç§æ–¹å¼ç¼–å†™æ›´æ–°å¯èƒ½ä¼šå¯¼è‡´æ„å¤–ç»“æœã€‚
#### å ğŸŒ° ï¼š
```typescript
import React, { useState } from "react";

export const App = () => {
  const [isDisabled, setIsDisabled] = useState(false);

  const toggleButton = () => {
    setIsDisabled(!isDisabled);
  };

  // è¿™é‡Œåˆ‡æ¢ä¸¤æ¬¡å°†äº§ç”Ÿä¸åˆ‡æ¢ä¸€æ¬¡ç›¸åŒçš„ç»“æœ
  const toggleButtonTwice = () => {
    toggleButton();
    toggleButton();
  };

  return (
    <div>
      <button disabled={isDisabled}>
        I'm {isDisabled ? "disabled" : "enabled"}
      </button>
      <button onClick={toggleButton}>
        Toggle button state
      </button>
      <button onClick={toggleButtonTwice}>
        Toggle button state 2 times
      </button>
    </div>
  );
};
```
#### å¥½ ğŸŒ°ï¼š
```typescript
import React, { useState } from "react";

export const App = () => {
  const [isDisabled, setIsDisabled] = useState(false);

  const toggleButton = () => {
    setIsDisabled((isDisabled) => !isDisabled);
  };

  const toggleButtonTwice = () => {
    toggleButton();
    toggleButton();
  };

  return (
    <div>
      <button disabled={isDisabled}>
        I'm {isDisabled ? "disabled" : "enabled"}
      </button>
      <button onClick={toggleButton}>
        Toggle button state
      </button>
      <button onClick={toggleButtonTwice}>
        Toggle button state 2 times
      </button>
    </div>
  );
};
```
## ä¸‰ã€ä¿æŒä½ çš„ç»„ä»¶ç®€æ´å¹²å‡€
ä¿æŒç»„ä»¶çš„åŸå­æ€§å’Œç²¾ç®€æ€§ï¼Œè¿™ä¼šè®©ä½ åœ¨å…¬å›­é‡Œè°ƒè¯•ã€ç»´æŠ¤ç”šè‡³æŸ¥æ‰¾æ–‡ä»¶éƒ½èƒ½è½»æ¾è‡ªå¦‚ï¼ï¼ï¼
#### å ğŸŒ°ï¼š
```typescript
// src/App.tsx
export default function App() {
  const posts = [
    {
      id: 1,
      title: "æ€æ ·å†™å¹²å‡€çš„ react ä»£ç ",
    },
    {
      id: 2,
      title: "åƒ, ç¡è§‰, ç¼–ç , å¾€å¤",
    },
  ];

  return (
    <main>
      <nav>
        <h1>App</h1>
      </nav>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>
            {post.title}
          </li>
        ))}
      </ul>
    </main>
  );
}
```
#### å¥½ ğŸŒ°ï¼š
```typescript
// src/App.tsx
export default function App() {
  return (
    <main>
      <Navigation title="App" />
      <Posts />
    </main>
  );
}

// src/components/Navigation.tsx
interface NavigationProps {
  title: string;
}

export default function Navigation({ title }: NavigationProps) {
  return (
    <nav>
      <h1>{title}</h1>
    </nav>
  );
}

// src/components/Posts.tsx
export default function Posts() {
  const posts = [
    {
      id: 1,
      title: "æ€æ ·å†™å¹²å‡€çš„ react ä»£ç ",
    },
    {
      id: 2,
      title: "åƒ, ç¡è§‰, ç¼–ç , å¾€å¤",
    },
  ];

  return (
    <ul>
      {posts.map((post) => (
        <Post key={post.id} title={post.title} />
      ))}
    </ul>
  );
}

// src/components/Post.tsx
interface PostProps {
  title: string;
}

export default function Post({ title }: PostProps) {
  return <li>{title}</li>;
}
```
## å››ã€å¯¹å…·æœ‰å¤šä¸ªçŠ¶æ€çš„å˜é‡ä½¿ç”¨æšä¸¾æˆ–å¸¸é‡å¯¹è±¡
ä½¿ç”¨ ```Enums``` æˆ–  ```Constant Objects``` å¯ä»¥å¤§å¤§ç®€åŒ–é‡‡ç”¨å¤šçŠ¶æ€ç®¡ç†å˜é‡çš„è¿‡ç¨‹ã€‚
#### å ğŸŒ°ï¼š
```typescript
import React, { useState } from "react";

export const App = () => {
  const [status, setStatus] = useState("Pending");

  return (
    <div>
      <p>{status}</p>
      <button onClick={() => setStatus("Pending")}>
        Pending
      </button>
      <button onClick={() => setStatus("Success")}>
        Success
      </button>
      <button onClick={() => setStatus("Error")}>
        Error
      </button>
    </div>
  );
};
```
#### å¥½ ğŸŒ°ï¼š
```typescript
import React, { useState } from "react";

enum Status {
  Pending = "Pending",
  Success = "Success",
  Error = "Error",
}
// æˆ–è€…
// const Status = {
//   Pending: "Pending",
//   Success: "Success",
//   Error: "Error",
// } as const;

export const App = () => {
  const [status, setStatus] = useState(Status.Pending);

  return (
    <div>
      <p>{status}</p>
      <button onClick={() => setStatus(Status.Pending)}>
        Pending
      </button>
      <button onClick={() => setStatus(Status.Success)}>
        Success
      </button>
      <button onClick={() => setStatus(Status.Error)}>
        Error
      </button>
    </div>
  );
};
```
## äº”ã€ä¸è¦è®©é€»è¾‘æ±¡æŸ“äº†ç»„ä»¶
#### å ğŸŒ°ï¼š
```typescript
const App = () => {
  return (
    <div>
      <button
        onClick={() => {
          // ...
        }}
      >
        Toggle Dark Mode
      </button>
    </div>
  );
};
```
#### å¥½ ğŸŒ°ï¼š
```typescript
const App = () => {
  const handleDarkModeToggle = () => {
    // ...
  };

  return (
    <div>
      <button onClick={handleDarkModeToggle}>
        Toggle Dark Mode
      </button>
    </div>
  );
};
```
**âš ï¸ æ³¨æ„ï¼šå¦‚æœä½ çš„é€»è¾‘å¤Ÿç®€å•ï¼Œä¸€è¡Œå°±å¯ä»¥è§£å†³ï¼Œé‚£ä¹ˆè¿˜æ˜¯å¯ä»¥ç”¨å ğŸŒ° ä¸­çš„å†™æ³•**
## å…­ã€ä¼˜é›…çš„æ¡ä»¶æ¸²æŸ“å…ƒç´ 
æ¡ä»¶æ¸²æŸ“å…ƒç´ æ˜¯ React ä¸­æœ€å¸¸è§çš„ä»»åŠ¡ä¹‹ä¸€ï¼Œå› æ­¤ä½¿ç”¨å¹²å‡€çš„æ¡ä»¶æ˜¯å¿…è¦çš„ã€‚
#### å ğŸŒ°ï¼š
```typescript
const App = () => {
  const [isTextShown, setIsTextShown] = useState(false);

  const handleToggleText = () => {
    setIsTextShown((isTextShown) => !isTextShown);
  };

  return (
    <div>
      {isTextShown ? <p>Now You See Me</p> : null}

      {isTextShown && <p>`isTextShown` is true</p>}
      {!isTextShown && <p>`isTextShown` is false</p>}

      <button onClick={handleToggleText}>Toggle</button>
    </div>
  );
};
```
#### å¥½ ğŸŒ° 1å·ï¼š
```typescript
const App = () => {
  const [isTextShown, setIsTextShown] = useState(false);

  const handleToggleText = () => {
    setIsTextShown((isTextShown) => !isTextShown);
  };

  return (
    <div>
      {isTextShown && <p>Now You See Me</p>}

      {isTextShown ? (
        <p>`isTextShown` is true</p>
      ) : (
        <p>`isTextShown` is false</p>
      )}

      <button onClick={handleToggleText}>Toggle</button>
    </div>
  );
};
```
#### å¥½ ğŸŒ° 2å·ï¼š
```typescript
const when = (condition, render) => (condition ? render() : null);

const App = () => {
    const [isTextShown, setIsTextShown] = useState(false);

    return (
        <div>
            {when(isTextShown, () => (
                <p>Now You See Me</p>
            ))}
            <p>`isTextShown` is {isTextShown.toString()}</p>
            <button onClick={() => setIsTextShown(!isTextShown)}>Toggle</button>
        </div>
    );
};
```
## ä¸ƒã€ä½¿ç”¨ JSX çš„ç®€å†™
### Boolean Props
å¯¹äºå±æ€§ä¸º true å€¼çš„ prop ä¸éœ€è¦åƒ truthyProp = {true} è¿™æ ·æ¥å†™ã€‚
#### å ğŸŒ°ï¼š
```typescript
interface TextFieldProps {
  fullWidth: boolean;
}

const TextField = ({ fullWidth }: TextFieldProps) => {
  // ...
};

const App = () => {
  return <TextField fullWidth={true} />;
};
```
#### å¥½ ğŸŒ° 1å·ï¼š
```typescript
interface TextFieldProps {
  fullWidth: boolean;
}

const TextField = ({ fullWidth }: TextFieldProps) => {
  // ...
};

const App = () => {
  return <TextField fullWidth />;
};
```
#### å¥½ ğŸŒ° 2å·ï¼š
```typescript
interface TextFieldProps {
    fullWidth?: boolean;
};

const TextField = ({ fullWidth = false }: TextFieldProps) => {
  // ...
};

const App = () => <TextField fullWidth />;
```
### String Props
å¯¹äº String Prop æˆ‘ä»¬åªéœ€è¦ç”¨å¼•å·æ¥å†™å°±è¡Œäº†ï¼Œæ²¡å¿…è¦åŠ ä¸€å±‚èŠ±æ‹¬å·ã€‚ 
#### å ğŸŒ°ï¼š
```typescript
interface AvatarProps {
  username: string;
}

const Avatar = ({ username }: AvatarProps) => {
  // ...
};

const Profile = () => {
  return <Avatar username={"senmu"} />;
};
```
#### å¥½ ğŸŒ°ï¼š
```typescript
interface AvatarProps {
  username: string;
}

const Avatar = ({ username }: AvatarProps) => {
  // ...
};

const Profile = () => {
  return <Avatar username="senmu" />;
};
```
### Undefined Props
äº†è§£ JavaScript/TypeScript è¯­è¨€çš„éƒ½çŸ¥é“ï¼Œå¦‚æœæœªç»™å±æ€§ä¼ å€¼ï¼Œé‚£å®ƒé»˜è®¤æ˜¯ **undefined**
#### å ğŸŒ°ï¼š
```typescript
interface AvatarProps {
  username?: string;
}

const Avatar = ({ username }: AvatarProps) => {
  // ...
};

const Profile = () => {
  return <Avatar username={undefined} />;
};
```
#### å¥½ ğŸŒ°ï¼š
```typescript
interface AvatarProps {
  username?: string;
}

const Avatar = ({ username }: AvatarProps) => {
  // ...
};

const Profile = () => {
  return <Avatar />;
};
```

## æ€»ç»“
ä»»ä½•å¥å£®çš„ä»£ç éƒ½æ˜¯é€»è¾‘æ¸…æ™°å¹¶ä¸”ä»£ç å¹²å‡€çš„ï¼Œå¹²å‡€çš„ä»£ç å³æ˜¯ä¼˜é›…çš„ä»£ç ã€‚è€è¯è¯´å¾—å¥½ï¼šâ€œèº²å¾—è¿‡åˆä¸€ï¼Œèº²ä¸è¿‡åäº”â€ï¼›æ¬ ä¸‹çš„æŠ€æœ¯å€ºè¿Ÿæ—©æ˜¯è¦è¿˜çš„ã€‚

## FAQ
* **æˆ‘ä»¬é¡¹ç›®ä»£ç å·²ç»æ˜¯å±å±±äº†ï¼Œæˆ‘å†™çš„å†å¹²å‡€æœ‰ä»€ä¹ˆç”¨ï¼Ÿ**
    * æ¯ä¸ªäººçš„æ°´å¹³ä¸åŒï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªæ—¶ä»£çš„æŠ€æœ¯ä¸æ€æƒ³éƒ½æ˜¯æœ‰ä¸€å®šçš„å·®å¼‚çš„ï¼Œä½ å†ç¿»çœ‹ä½ ä»¥å‰å†™çš„ä»£ç ï¼Œéš¾é“ä¸è§‰å¾—å¾ˆè ¢å—ï¼Ÿæ‰€ä»¥å°½ç®¡åšä½ èƒ½åšå‡ºçš„åŠªåŠ›å°±å¥½äº†ï½
* **æˆ‘ä»¬é¡¹ç›®ä»£ç å¤ªéš¾ç»´æŠ¤äº†ï¼Œæˆ‘è¯¥æ€æ ·åšå°†å®ƒå˜å¾—å¹²å‡€ï¼Ÿ**
    * ä¸åˆ°éé‡æ„ä¸å¯ï¼Œæˆ‘éƒ½æ˜¯ä¸å»ºè®®å»ä¿®æ”¹ä»¥å‰çš„ä»£ç çš„ã€‚
* **æˆ‘åœ¨æ–°é¡¹ç›®ä¸­å°±å¼€å§‹å†™å¹²å‡€çš„ä»£ç **
    * è¿™æ ·çš„æƒ³æ³•ä¹Ÿæ˜¯ä¸å¯å–çš„ï¼Œä¿—è¯è¯´â€ç§ä¸€æ£µæ ‘ï¼Œæœ€å¥½çš„æ—¶å€™æ˜¯åœ¨åå¹´å‰ï¼Œå…¶æ¬¡å°±æ˜¯ç°åœ¨â€œï¼Œä¸å¦‚ä»æ­¤åˆ»å¼€å§‹ï¼Œå°†å†™å¹²å‡€çš„ä»£ç å…»æˆä¸€ç§ä¹ æƒ¯å§ï¼Œç­‰è¿‡æ®µæ—¶é—´å†æ¥çœ‹ï¼Œå¯èƒ½ä½ çš„å°æ ‘ğŸŒ²å·²ç»æ‰å¥½æ ¹åŸºäº†ï½



å‚è€ƒé“¾æ¥ï¼š[7 Tips for Clean React TypeScript Code you Must Know ğŸ§¹âœ¨](https://dev.to/ruppysuppy/7-tips-for-clean-react-typescript-code-you-must-know-2da2)
