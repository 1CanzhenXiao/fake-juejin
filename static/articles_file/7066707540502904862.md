ã€Œè¿™æ˜¯æˆ‘å‚ä¸2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜çš„ç¬¬2å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š[2022é¦–æ¬¡æ›´æ–‡æŒ‘æˆ˜](https://juejin.cn/post/7052884569032392740)ã€ã€‚
>å‰è¨€ï¼šFlutterä»2018å¹´åº•é¦–æ¬¡åœ¨è°·æ­Œå¼€å‘è€…å¤§ä¼šä¸Šäº®ç›¸è‡³ä»Šå·²3å¹´å¤šï¼Œå…¶å‘å±•ä¹Ÿç®—å¦‚ç«å¦‚è¼ã€‚**ä¸­å°ä¼ä¸šä¸­å¤§å—æ¬¢è¿ï¼Œå¤§å‚ä¹Ÿç›¸ç»§æŠ•å…¥æŠ€æœ¯ç ”ç©¶ã€‚** ä½†ä¾ç„¶æœ‰ä¸å°‘å¼€å‘è€…ç–‘æƒ‘äºä¸ºè‡ªå·±çš„é¡¹ç›®è¦é€‰æ‹©å“ªä¸ªçŠ¶æ€ç®¡ç†æ¡†æ¶ï¼Œä»Šå¤©ç¬”è€…å°†å¯¹ç¤¾åŒºå†…ç›¸å¯¹ç«çƒ­ğŸ”¥çš„çŠ¶æ€ç®¡ç†åº“ï¼ˆ`Providerã€BLoCã€GetX`ï¼‰åšä¸€ä¸ªæŠ€æœ¯åˆ†æå’Œå¯¹æ¯”ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°ä¸ºé¡¹ç›®æ‰¾åˆ°åˆé€‚çš„çŠ¶æ€ç®¡ç†åº“ã€‚
### çŠ¶æ€ç®¡ç†åŸåˆ™
æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†**æé«˜é¡¹ç›®çš„å¯ç»´æŠ¤åº¦å’Œæ€§èƒ½**ï¼Œä¹Ÿä¸ºäº†è®©é¡µé¢UIè·Ÿæ•°æ®ï¼ˆæœ¬åœ°æˆ–æœåŠ¡ç«¯æ•°æ®ï¼‰**æœ‰æ•ˆåˆ†ç¦»çš„åŒæ—¶åˆèƒ½æœ‰æ•ˆåŒæ­¥**ï¼Œéƒ½ä¼šè®©é¡¹ç›®ä¿æŒ**æ¸…æ™°çš„ç›®å½•ç»“æ„ã€åŒæ—¶å¯ç”¨çŠ¶æ€ç®¡ç†åº“ã€‚**
<br/>è€ŒMVVMæ¨¡å¼å·²ç„¶æˆä¸ºå‰ç«¯é¡¹ç›®ä¸­çš„ä¸»æµæ¶æ„ã€‚
>MVVM å³ mode + view + viewModel
- modelè¡¨ç¤ºé¡µé¢çŠ¶æ€ï¼ˆå³é¡µé¢éœ€è¦çš„æ•°æ®ï¼‰
- viewè¡¨ç¤ºé¡µé¢è§†å›¾ï¼ˆå³UIï¼‰
- viewModelæ˜¯ä¸­é—´å±‚ï¼Œè´Ÿè´£modelå’Œviewçš„åŒå‘é€šä¿¡ï¼Œå®ç°é¡µé¢è§†å›¾æ›´æ–°é©±åŠ¨ï¼ŒåŒæ—¶è´Ÿè´£çš„ä¸šåŠ¡é€»è¾‘ï¼ˆä¾‹å¦‚ï¼šæ¡ä»¶åˆ¤æ–­ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼‰çš„å¤„ç†ã€‚

é€šè¿‡MVVMå¯ä»¥**å®ç°è§†å›¾ã€æ•°æ®ã€ä¸šåŠ¡é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼Œä½¿é¡¹ç›®æ•°æ®æµå‘æ¸…æ™°æ˜æœ—ï¼Œæé«˜æ€§èƒ½ï¼Œæé«˜å¯ç»´æŠ¤åº¦**ã€‚
<br/>ç”¨æˆ·å¯¹é¡µé¢çš„æ“ä½œè§¦å‘æ•°æ®çš„å¤„ç†ï¼Œæ•°æ®çš„å˜åŠ¨é©±åŠ¨é¡µé¢UIçš„åˆ·æ–°ã€‚æ‰€ä»¥`å•ä¸€æ•°æ®æº`å’Œ`å•å‘æ•°æ®æµ`æ˜¯åšå¥½çŠ¶æ€ç®¡ç†çš„å…³é”®ã€‚
1. **å•ä¸€æ•°æ®æº**ï¼šæ­¤å¤„çš„UIæ˜¯ç”±å•ç‹¬çš„æ•°æ®è¿›è¡Œç»‘å®šçš„ï¼Œæ˜¯å®Œå…¨å¯æ§çš„ï¼Œä¸ä¼šéšæ„å—åˆ°åˆ°å…¶ä»–æ•°æ®çš„å½±å“ï¼›
2. **å•å‘æ•°æ®æµ**ï¼šç”¨æˆ·ã€ç³»ç»Ÿçš„æ“ä½œï¼Œè§¦å‘æ•°æ®çš„å¤„ç†ï¼Œæ•°æ®çš„æ”¹å˜æœ€ç»ˆé©±åŠ¨è§†å›¾å‘ç”Ÿæ›´æ–°ï¼Œè¿™ä¸ªæµå‘å¿…é¡»æ˜¯å•å‘ä¸”å¯è¿½æº¯çš„ã€‚å³æ— è®ºç”¨æˆ·ã€ç³»ç»Ÿåšäº†å¤šå°‘æ“ä½œï¼Œæœ€ç»ˆæ•°æ®éƒ½æ˜¯å¤„ç†å¥½äº†æ‰å»æ›´æ–°è§†å›¾ï¼Œä¸èƒ½åœ¨è§†å›¾æ›´æ–°ååˆåå‘å»è§¦å‘æ•°æ®å¤„ç†ã€‚
Flutterä¸­çš„çŠ¶æ€ç®¡ç†åº“ï¼ŒåŸºæœ¬ä¹Ÿéƒ½éµå¾ªMVVMåŸåˆ™ï¼Œæ‰€ä»¥åœ¨éµå¾ªè¿™ä¸ªåŸåˆ™çš„åŸºç¡€ä¸Šï¼Œå¦‚ä½•ä½¿å¾—çŠ¶æ€ç®¡ç†æ€§èƒ½æ›´å¥½ä¸”æ˜“äºä½¿ç”¨ï¼Œæ˜¯è¿™äº›åº“çš„è®¾è®¡å®—æ—¨ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä¸»è¦å¯¹æ¯”ä»¥ä¸‹ä¸‰ä¸ªåº“ï¼š`Providerã€BLoCã€GetX`ã€‚
### Flutterä¸­çš„çŠ¶æ€ç®¡ç†
åœ¨Flutterä¸­ï¼ŒçŠ¶æ€ç®¡ç†ä¸€ç›´æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ã€‚ç›´åˆ°Flutterå°†Provideræ›¿ä»£Provideä½œä¸ºå®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†åº“ï¼ŒFlutterå…³äºçŠ¶æ€ç®¡ç†çš„äº‰è®ºæ‰å¼€å§‹è¶‹äºå¹³é™ï¼Œä½†2021å¹´GetXå¼‚å†›çªèµ·ï¼Œåˆè®©ä¼—å¤šåˆå­¦è€…å¼€å§‹äº‰è®ºç©¶ç«Ÿä½¿ç”¨å“ªä¸ªåº“æ¥åšçŠ¶æ€ç®¡ç†ã€‚

é‚£ä¹ˆçŠ¶æ€ç®¡ç†ä¸ºä½•è¿™ä¹ˆé‡è¦å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸€ä¸ªä¸šåŠ¡åœºæ™¯å¯ä»¥ç»™å¤§å®¶ä½“ä¼šä¸‹ï¼š

> å‡è®¾æœåŠ¡å™¨æ¯éš”åç§’é€šè¿‡websocketç»™APPæ¨é€ä¸€æ¬¡æ•°æ®ï¼Œæ•°æ®åŒ…å«æ–‡ç« å†…å®¹ï¼ŒåŒæ—¶ä¹ŸåŒ…å«é˜…è¯»æ•°ã€ç‚¹èµæ•°ã€‚APPæœ‰ä¸¤ä¸ªé¡µé¢ï¼ŒAé¡µé¢æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨ï¼Œç‚¹å‡»åˆ—è¡¨é¡¹è¿›å…¥Bé¡µé¢æŸ¥çœ‹æ–‡ç« è¯¦æƒ…ã€‚æ¯éš”åç§’æœåŠ¡å™¨çš„æ¶ˆæ¯åˆ°è¾¾åï¼Œ**éœ€è¦å®æ—¶æ›´æ–°Aã€Bé¡µé¢çš„å†…å®¹ã€‚**

- æ™®é€šæ–¹å¼ï¼šä¸ºäº†å®ç°ä»¥ä¸Šåœºæ™¯ï¼Œåœ¨Flutterä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯ä¸ªé¡µé¢æ³¨å†Œä¸€ä¸ªwebsocketæ¥æ”¶å™¨ï¼Œæ¯ä¸ªé¡µé¢æ”¶åˆ°websocketæ¶ˆæ¯é€šçŸ¥çš„æ—¶å€™ï¼Œé€šè¿‡setStateå»æ›´æ–°é¡µé¢è§†å›¾ï¼›å¦‚æœæœ‰10ä¸ªé¡µé¢ï¼Œå°±éœ€è¦å®šä¹‰10ä¸ªæ¥æ”¶å™¨ï¼Œæ¯ä¸ªæ¥æ”¶å™¨è¿˜éœ€è¦åˆ†åˆ«å¤„ç†æ•°æ®ç„¶åsetStateæ›´æ–°è§†å›¾ã€‚æ€§èƒ½å·®ä¸è¯´ï¼Œå¼€å‘æ•ˆç‡ä¸Šä¹Ÿå¤§æ‰“æŠ˜æ‰£ï¼Œå‡ºé”™ç‡æé«˜ã€‚

- çŠ¶æ€ç®¡ç†ï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åªåœ¨ä¸€ä¸ªåœ°æ–¹æ¥æ”¶æ•°æ®ï¼Œåªè¦æ•°æ®ä¸€æ”¹å˜ï¼Œå„ä¸ªè§†å›¾å°±å®æ—¶æ›´æ–°ï¼Œæ— éœ€æ¯ä¸ªé¡µé¢setStateã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›´æ–°äº‹ä»¶çš„å‘å¸ƒè€…ï¼Œç„¶åæ¯ä¸ªé¡µé¢éƒ½æ˜¯ç›‘å¬è€…ã€‚**å‘å¸ƒè€…åœ¨æ¥æ”¶åˆ°æ•°æ®åå‘å‡ºæ›´æ–°äº‹ä»¶ï¼Œç›‘å¬è€…æ”¶åˆ°çš„åŒäº‹è§†å›¾ä¾¿é©¬ä¸Šæ›´æ–°ï¼ˆæ— éœ€setStateï¼‰ï¼Œ** é‚£å¼€å‘çš„ä½“éªŒå°±å¾ˆå®Œç¾äº†ã€‚<br/>è¿™å°±æ˜¯å…¸å‹çš„å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼Œå¤§éƒ¨åˆ†å‰ç«¯åŒ…æ‹¬Flutterä¸­çš„çŠ¶æ€ç®¡ç†ï¼Œéƒ½æ˜¯åŸºäºè¿™ç§è®¾è®¡æ¨¡å¼ã€‚

Flutterä¸­çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå¯ä»¥**ä½¿ç”¨streamæµæœºåˆ¶**ã€‚[streamç³»ç»Ÿå­¦ä¹ ](https://juejin.cn/post/6844904163407577096)

``` dart
ä»¥ä¸Šé¢çš„éœ€æ±‚ä¸ºä¾‹ï¼š
1. æˆ‘ä»¬éœ€è¦ä¸€ä¸ªwebsocketæ¥æ”¶å™¨ï¼Œæ”¶åˆ°æ¶ˆæ¯åé€šè¿‡streamController.skin.addå‘å¸ƒäº‹ä»¶ï¼›
2. é¡µé¢ä¸­streamæ³¨å†Œç›‘å¬å™¨streamController.stream.listenï¼Œåœ¨ç›‘å¬å›è°ƒä¸­é€šè¿‡setStateåˆ·æ–°è§†å›¾ã€‚
```

äº‹å®ä¸Šï¼ŒFlutterç›®å‰å·²æœ‰çš„çŠ¶æ€ç®¡ç†ï¼Œå¦‚rxdartã€BLoCã€fluter_reduxã€providerã€GetXç­‰ï¼Œ**éƒ½ç¦»ä¸å¼€å¯¹streamæµè¿›è¡Œå°è£…ï¼Œå†åŠ ä¸Šå¯¹Flutter InheritedWidgetçš„å°è£…æ¼”åŒ–å‡ºStreamBuilderã€BlocBuilderç­‰å¸ƒå±€ç»„ä»¶ï¼Œä»è€Œè¾¾åˆ°æ— éœ€setStateå°±èƒ½å®æ—¶æ›´æ–°è§†å›¾çš„æ•ˆæœ**ã€‚[FlutterçŠ¶æ€ç®¡ç†çš„æ¼”å˜](https://juejin.im/post/6844904035439345671)
### BLoC
BLoCæ˜¯è°·æ­Œæå‡ºçš„ä¸€ç§**è®¾è®¡æ¨¡å¼**ï¼Œåˆ©ç”¨streamæµçš„æ–¹å¼å®ç°ç•Œé¢çš„å¼‚æ­¥æ¸²æŸ“å’Œé‡ç»˜ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸é¡ºåˆ©çš„é€šè¿‡BLoCå®ç°ä¸šåŠ¡ä¸ç•Œé¢çš„åˆ†ç¦»ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨é¡¹ç›®ä¸­å¼•å…¥[flutter_bloc]()è¿™ä¸ªåº“ã€‚
##### ç›®å½•ç»“æ„
ä¸€ä¸ªBLoCçŠ¶æ€ç®¡ç†ï¼Œé€šå¸¸ä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼šblocã€eventã€state

![BLOCç›®å½•ç»“æ„.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5492a36954424881b1a689f601b3787c~tplv-k3u1fbpfcp-watermark.image?)
##### ç®€å•ä½¿ç”¨æ–¹æ³•
1. å½“ä¸€ä¸ªç»„ä»¶éœ€è¦ä½¿ç”¨åˆ°BLoCçŠ¶æ€ç®¡ç†æ—¶ï¼Œéœ€è¦åœ¨è°ƒç”¨ç»„ä»¶ä¹‹å‰ï¼Œéœ€è¦å£°æ˜ä¸‹BLoCçš„æä¾›è€…ï¼Œå…·ä½“å†™æ³•å¦‚ä¸‹:
    ``` dart
    BlocProvider<BadgesBloc>(create: (context)=> BadgesBloc(),child:UserPage());
    ```
2. å½“é¡µé¢æœ‰å¤šä¸ªBLoCæä¾›è€…ï¼Œæˆ–è€…æ•´ä¸ªAppé€šç”¨çš„BLoCæä¾›è€…ï¼Œå³å¯æå‰åœ¨åŠ è½½Appä¹‹å‰å…¨å±€å£°æ˜ã€‚å¯ä»¥ä½¿ç”¨MultiBlocProviderè¿›è¡Œå£°æ˜ï¼Œå…·ä½“å†™æ³•å¦‚ä¸‹ï¼š
    ``` dart
    MultiBlocProvider(
        providers: [
            BlocProvider<BadgesBloc>(create:(context) => BadgesBloc()),
            BlocProvider(create: (context) =>XXX()),
        ],
        child: MaterialApp(),
    )
    ```
3. é¡µé¢å¸ƒå±€å°†ä½¿ç”¨BlocBuilderåˆ›å»ºwidgetï¼Œç”¨æˆ·åœ¨é¡µé¢ä¸­é€šè¿‡BlocProvider.of(context).add()å‘èµ·äº‹ä»¶
    
    ``` dart
    ///Â  å¸ƒå±€ç¤ºä¾‹
    BlocBuilder<BadgesBloc, BadgesState>(
    // æ¥æ”¶blocè¿”å›çš„stateï¼Œè§†å›¾ä¸stateä¸­çš„å˜é‡è¿›è¡Œç»‘å®š
    builder: (context, state) {
        var isShowBadge = false;
        if (state is BadgesInitialState) {
            isShowBadge = state.unReadNotification;
        }
        return Badge(
            showBadge: isShowBadge,
            shape: BadgeShape.circle,
            position: BadgePosition(top: -3, right: -3),
            child: Icon(Icons.notifications_none, color: Color(0xFFFFFFFF),),
        );
    })
    ```
    ``` dart
    /// é¡µé¢å‘èµ·äº‹ä»¶
    // å‘å‡ºçš„é‡è®¾Badgeçš„äº‹ä»¶ï¼Œäº‹ä»¶è¦æ±‚ä¼ å‚ä¸ºbool
    BlocProvider.of<BadgesBloc>(context).add(ResetBadgeEvent(true));
    ```
4. æ­¤æ—¶åœ¨blocä¸­å°±ä¼šæ¥æ”¶åˆ°äº‹ä»¶ï¼Œåˆ¤æ–­å‘èµ·çš„äº‹ä»¶æ˜¯eventä¸­çš„å“ªä¸ªäº‹ä»¶ï¼Œç„¶åè¿”å›å¯¹åº”çš„state,å…·ä½“å†™æ³•å¦‚ä¸‹ï¼š
    ``` dart
    @override
    Stream<BadgesState> mapEventToState(BadgesEvent event) async* {
        if (event is ResetBadgeEvent) {
            yield BadgesInitialState(event.unReadNotification);Â 
        }Â 
    }
    
    Stream<BadgesInitialState> _mapGetActivityCountState(isShow) async* {
        // æ­¤å¤„æ›´æ”¹çŠ¶æ€çš„å€¼ï¼Œè®©ä¸Šé¢çš„è§†å›¾ä»£ç å¯ä»¥æ ¹æ®æ­¤å€¼è¿›è¡Œæ›´æ–°
        yield BadgesInitialState(isShow);
    }
    ```
5. è¡¥ä¸Ševentã€stateçš„ä»£ç æˆªå›¾
    
![event.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3a5ae5d2d074fd391fc0dc222647d16~tplv-k3u1fbpfcp-watermark.image?)
    
![state.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c2a1356f7594254a338f806d8762a37~tplv-k3u1fbpfcp-watermark.image?)
##### ä¼˜ç¼ºç‚¹
1. ã€ä¼˜ç‚¹ã€‘`BLoCçš„ç›®å½•ç»“æ„æ¸…æ™°`ï¼Œå®Œå…¨ç¬¦åˆmvvmçš„ä¹ æƒ¯ã€‚å¯¹äºå·¥ç¨‹åŒ–é¡¹ç›®æ¥è¯´ä¼šæ¯”è¾ƒå—æ¬¢è¿ï¼Œ**ï¼Œå›¢é˜Ÿåä½œèµ·æ¥ä¼šå‡å°‘å‡ºé”™çš„æ¦‚ç‡**ï¼Œå¤§å®¶éƒ½è·Ÿç€ä¸€ä¸ªæ¨¡å¼å»åšï¼Œç»´æŠ¤æ€§ä¹Ÿæé«˜äº†ï¼›
2. ã€ä¼˜ç‚¹ã€‘`ä¸šåŠ¡æµæ¸…æ™°`ã€‚ä½¿ç”¨dart streamäº‹ä»¶æµä½œä¸ºåŸºç¡€åŸç†ï¼Œeventå’Œstateéƒ½æ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œç”¨æˆ·è¡Œä¸ºè§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å®Œæ¨å‡ºçŠ¶æ€æµï¼Œ**ç¨³å®šçš„æ•°æ®æµå‘å¾€å¾€èƒ½æé«˜ä»£ç çš„å¯é æ€§**;
3. ã€ç¼ºç‚¹ã€‘`BLoCä½¿ç”¨èµ·æ¥ç›¸å¯¹å¤æ‚`ï¼Œéœ€è¦åˆ›å»ºå¤šä¸ªæ–‡ä»¶ã€‚è™½ç„¶å®˜æ–¹å¼•å…¥äº†cubitï¼ŒæŠŠeventç»„åˆåˆ°blocæ–‡ä»¶ä¸­ï¼Œä½†å¼ºçƒˆçš„ç»“æ„åŒ–ä¾ç„¶è®©ä¸å°‘åˆå­¦è€…éš¾ä»¥å…¥é—¨ï¼›
4. ã€ç¼ºç‚¹ã€‘`é¢—ç²’åº¦çš„æŠŠæ§ç›¸å¯¹å›°éš¾ã€‚`é€šè¿‡BlocBuilderæ„å»ºçš„è§†å›¾ï¼Œåœ¨stateå˜æ›´æ—¶ï¼Œè§†å›¾éƒ½ä¼šrebuildï¼Œæƒ³è¦æ§åˆ¶é¢—ç²’åº¦åªèƒ½æŠŠblocå†æ‹†ç»†ï¼Œè¿™ä¼šæå¤§çš„å¢åŠ ä»£ç å¤æ‚åº¦å’Œå·¥ä½œé‡ï¼›ä¸è¿‡è¿™ä¸ªé—®é¢˜å¯é€šè¿‡å¼•å…¥freezedç”Ÿæˆä»£ç ï¼Œç„¶åé€šè¿‡buildWhenç­‰æ–¹å¼å‡å°‘è§†å›¾åˆ·æ–°çš„é¢‘æ¬¡ã€‚

### Provider
Provideræ˜¯Flutterå®˜æ–¹å¼€å‘ç»´æŠ¤çš„ï¼Œä¹Ÿæ˜¯è¿‘äº›å¹´å®˜æ–¹æœ€ä¸ºæ¨èçš„çŠ¶æ€ç®¡ç†åº“ã€‚`Provider`Â æ˜¯å»ºç«‹åœ¨Â `InheretedWidget`Â ä¹‹ä¸Šåšäº†å°è£…ï¼Œå¤§å¤§å‡å°‘äº†æˆ‘ä»¬éœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚å…¶ç‰¹ç‚¹æ˜¯ï¼šä¸å¤æ‚ã€å¥½ç†è§£ï¼Œå¯æ§åº¦é«˜ã€‚æˆ‘ä»¬ä¼šåœ¨é¡¹ç›®ä¸­å¼•å…¥**provider**è¿™ä¸ªåº“ã€‚
##### ç®€å•ä½¿ç”¨æ–¹æ³•
1. å½“ç»„ä»¶éœ€è¦ä½¿ç”¨åˆ°ProviderçŠ¶æ€ç®¡ç†æ—¶ï¼Œéœ€è¦åœ¨è°ƒç”¨ç»„ä»¶ä¹‹å‰ï¼Œéœ€è¦å£°æ˜ä¸‹Providerçš„æä¾›è€…ï¼Œå…·ä½“å†™æ³•å¦‚ä¸‹ï¼š
``` dart
ChangeNotifierProvider<LoginViewModel>.value(
    notifier: LoginViewModel(),
    child:LoginPage(),
)
```
2. å½“ä¸€ä¸ªé¡µé¢æœ‰å¤šä¸ªProvideræä¾›è€…ï¼Œæˆ–è€…æ•´ä¸ªAppæœ‰å‡ ä¸ªé€šç”¨çš„Provideræä¾›è€…ï¼Œæœ‰å¤šä¸ªé¡µé¢éƒ½éœ€è¦ä½¿ç”¨ï¼Œå³å¯æå‰åœ¨åŠ è½½Appä¹‹å‰å…¨å±€å£°æ˜ã€‚å¯ä»¥ä½¿ç”¨MultiProviderè¿›è¡Œå£°æ˜:
``` dart
MultiProvider(
Â Â Â Â providers: [
Â  Â Â Â Â Â Â ChangeNotifierProvider<LoginViewModel>( create: (_) => LoginViewModel(),),
Â  Â Â Â Â Â Â ChangeNotifierProvider<HomeViewModel>( create: (_) =>Â HomeViewModel(),),
Â Â Â Â ],
Â Â Â Â child: MaterialApp()
)
```
3. é¡µé¢å¸ƒå±€éœ€åˆ›å»ºä¸€ä¸ªProviderå¯¹è±¡ï¼Œä¹‹åç›´æ¥åœ¨widgetä¸­ç»‘å®šviewModelä¸­çš„æ•°æ®æˆ–è€…è§¦å‘äº‹ä»¶å³å¯
``` dart
/// åˆ›å»ºproviderå¯¹è±¡
var loginVM = Provider.of<LoginViewModel>(context);
Column(
Â Â Â Â children: <Widget>[
Â Â Â Â Â Â Â Â new Padding(
Â Â Â Â Â Â Â Â Â Â Â Â padding: EdgeInsets.only(top: 85),
Â Â Â Â Â Â Â Â Â Â Â Â child: new Container(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â height: 85.h, width: 486.w,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â child: TextFormField(
Â  Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // ç»‘å®šviewModelçš„æ•°æ®
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â controller: loginVM.userNameController,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â decoration: InputDecoration(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â hintText: "è¯·è¾“å…¥ç”¨æˆ·å",
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â icon: Icon(Icons.person),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â hintStyle: TextStyle(color: Colors.grey, fontSize: 24.sp),
Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â validator: (value) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return value.trim().length > 0 ? null : "å¿…å¡«é€‰é¡¹"; }
                )
            )
        ),
Â Â Â Â Â Â Â Â new Padding(
Â Â Â Â Â Â Â Â Â Â Â Â padding: EdgeInsets.only(top: 40),
Â Â Â Â Â Â Â Â Â Â Â Â child: new Container(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â height: 90.h, width: 486.w,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â child: new RaisedButton(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // ç‚¹å‡»è§¦å‘viewModelä¸­çš„æ–¹æ³•
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onPressed: () { loginVM.loginHandel(context)},
Â Â Â Â Â Â Â Â Â Â Â Â color: const Color(0xff00b4ed), shape: StadiumBorder(),
Â Â Â Â Â Â Â Â Â Â Â Â child: new Text( "ç™»å½•",
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â style: new TextStyle(color: Colors.white, fontSize: 32.sp),
Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â ),
Â Â Â Â )
)]
```
4. å†æ¥çœ‹viewModelä¸­çš„å†™æ³•ï¼Œclasså¿…é¡»ç»§æ‰¿ChangeNotifierã€‚å½“æœ‰æ•°æ®éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼Œè°ƒç”¨notifyListeners()ï¼Œé¡µé¢å°±ä¼šåˆ·æ–°
![provider_1.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e72de6997594126a7268b0452d47b15~tplv-k3u1fbpfcp-watermark.image?)
![provider_2.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b7d4b5218db4cff8a0f7316994f8a9e~tplv-k3u1fbpfcp-watermark.image?)
##### å®ç°åŸç†
1. Providerä¸»è¦æ˜¯å¯¹Â [InheritedWidget](https://api.flutter-io.cn/flutter/widgets/InheritedWidget-class.html)Â ç»„ä»¶è¿›è¡Œä¸Šå±‚å°è£…ï¼Œä½¿å…¶æ›´æ˜“ç”¨ï¼Œé€šè¿‡[ChangeNotifier](https://api.flutter-io.cn/flutter/foundation/ChangeNotifier-class.html)æ¥å¤„ç†æ•°æ®ï¼Œä»è€Œå‡å°‘äº†InheritedWidgetçš„å¤§é‡æ¨¡ç‰ˆä»£ç ã€‚
2. ä»æºç ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°`Provider`ç›´æ¥ç»§æ‰¿äº`InheritedProvider`ï¼Œé€šè¿‡å·¥å‚æ„é€ å‡½æ•°`Provider.value`ä¼ å…¥modelå’ŒchildèŠ‚ç‚¹ï¼Œç„¶åé€šè¿‡`context.dependOnInheritedWidgetOfExactType<_InheritedProviderScope<T?>>();`å¯¹å€¼è¿›è¡Œç›‘å¬ã€‚
3. è€Œ_InheritedProviderScopeå°±æ˜¯ç»§æ‰¿äº`InheritedWidget`çš„ï¼Œæ‰€ä»¥Providerçš„å®ç°çœŸçš„å¾ˆç®€å•ï¼Œæœ‰ç”¨è¿‡`InheritedWidget`çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹ä¸‹æºç ã€‚
##### ä¼˜ç¼ºç‚¹
1. ã€ä¼˜ç‚¹ã€‘`ä½¿ç”¨ç®€å•`ã€‚modelç»§æ‰¿ChangeNotifierï¼Œæ²¡æœ‰æ›´å¤šçš„å¸ƒå±€widgetï¼Œåªéœ€è¦é€šè¿‡context.read / context.watchæ“ä½œæˆ–è€…ç›‘å¬modelå³å¯ï¼›
2. ã€ä¼˜ç‚¹ã€‘`é¢—ç²’åº¦æŠŠæ§ç®€å•`ã€‚ä¸ºäº†è§£å†³widgeté‡æ–°buildå¤ªé¢‘ç¹çš„é—®é¢˜ï¼Œå®˜æ–¹æ¨å‡ºäº†`context.select`æ¥ç›‘å¬å¯¹è±¡çš„éƒ¨åˆ†å±æ€§ã€‚ä¹Ÿå¯ä½¿ç”¨[Consumer](https://pub.flutter-io.cn/documentation/provider/latest/provider/Consumer-class.html)/[Selector](https://pub.flutter-io.cn/documentation/provider/latest/provider/Selector-class.html)è¿›è¡Œå¸ƒå±€;
3. ã€ä¼˜ç‚¹ã€‘`åŸºäºå®˜æ–¹InheritedWidgetçš„å°è£…`ï¼Œä¸å­˜åœ¨ä»»ä½•é£é™©ï¼Œå¾ˆç¨³å®šä¸”ä¸ä¼šç»™æ€§èƒ½æ–¹é¢åŠ è´Ÿæ‹…
4. ã€ç¼ºç‚¹ã€‘`contextå¼ºå…³è”`ï¼Œæœ‰Flutterå¼€å‘ç»éªŒçš„éƒ½çŸ¥é“ï¼Œcontextå¤§å¤šæ—¶å€™åŸºæœ¬éƒ½æ˜¯åœ¨widgetä¸­æ‰èƒ½è·å–åˆ°ï¼Œåœ¨å…¶ä»–åœ°æ–¹æƒ³éšæ—¶è·å–Â `BuildContext`Â æ˜¯ä¸åˆ‡å®é™…çš„ï¼Œä¹Ÿå°±æ„å‘³ç€å¤§å¤šæ—¶å€™åªèƒ½åœ¨viewå±‚å»è·å–åˆ°Provideræä¾›çš„ä¿¡æ¯ã€‚

### GetX
GetXæ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”å¼ºå¤§çš„çŠ¶æ€ç®¡ç†åº“ï¼Œè¿™ä¸ªåº“è¯•å›¾å®Œæˆå¾ˆå¤šå·¥ä½œï¼Œå®ƒä¸ä»…æ”¯æŒçŠ¶æ€ç®¡ç†ï¼Œä¹Ÿæ”¯æŒè·¯ç”±ã€å›½é™…åŒ–ã€Themeç­‰ä¸€å¤§å †åŠŸèƒ½ã€‚GetXåœ¨FlutterçŠ¶æ€ç®¡ç†ä¸­ç»å¯¹ç®—æ˜¯å¼‚å†›çªèµ·ï¼Œä¸€ç»å‘å¸ƒå°±å› å…¶ç®€å•ä¸”å…¨é¢çš„ä¼˜åŠ¿ï¼Œå¼•å¾—ä¸€å¤§æ‰¹ç°‡æ‹¥è€…ï¼›æˆ‘å¹¶æœªè®¤çœŸç ”ç©¶GetXï¼Œä½†ç®€å•æ¥è§¦åæˆ‘ä¸ªäººå¹¶ä¸å–œæ¬¢ï¼Œ**è¿™ç§å…¨å®¶æ¡¶å¼çš„åº“ä¼šè®©æˆ‘ä»¬çš„é¡¹ç›®ç›¸å¯¹å±€é™ï¼ŒåŒæ—¶è®©é¡¹ç›®å¼€å‘è€…å¤„äºæ²¡æœ‰è¿›æ­¥ä¸”è¢«åŠ¨çš„å±€é¢ã€‚**
##### ç®€å•ä½¿ç”¨æ–¹æ³•
æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ GetX æ¼”ç¤ºå®˜æ–¹example"è®¡æ•°å™¨"ï¼Œ

-   æ¯æ¬¡ç‚¹å‡»éƒ½èƒ½æ”¹å˜çŠ¶æ€
-   åœ¨ä¸åŒé¡µé¢ä¹‹é—´åˆ‡æ¢
-   åœ¨ä¸åŒé¡µé¢ä¹‹é—´å…±äº«çŠ¶æ€
-   å°†ä¸šåŠ¡é€»è¾‘ä¸ç•Œé¢åˆ†ç¦»


1. æŠŠMaterialAppå˜æˆGetMaterialApp

``` dart
void main() => runApp(GetMaterialApp(home: Home()));
```
2. åˆ›å»ºä½ çš„ä¸šåŠ¡é€»è¾‘ç±»ï¼Œå°†å˜é‡ã€æ–¹æ³•å’Œæ§åˆ¶å™¨æ”¾åœ¨é‡Œé¢ã€‚ é€šè¿‡".obs "ä½¿å˜é‡æˆä¸ºå¯è§‚å¯Ÿçš„

``` dart
class Controller extends GetxController{
  var count = 0.obs;
  increment() => count++;
}
```
3. åˆ›å»ºç•Œé¢

``` dart
class Home extends StatelessWidget {

  @override
  Widget build(context) {

    // ä½¿ç”¨Get.put()å®ä¾‹åŒ–ä½ çš„ç±»ï¼Œä½¿å…¶å¯¹å½“ä¸‹çš„æ‰€æœ‰å­è·¯ç”±å¯ç”¨ã€‚
    final Controller c = Get.put(Controller());

    return Scaffold(
      // ä½¿ç”¨Obx(()=>æ¯å½“æ”¹å˜è®¡æ•°æ—¶ï¼Œå°±æ›´æ–°Text()ã€‚
      appBar: AppBar(title: Obx(() => Text("Clicks: ${c.count}"))),

      // ç”¨ä¸€ä¸ªç®€å•çš„Get.to()å³å¯ä»£æ›¿Navigator.pushé‚£8è¡Œï¼Œæ— éœ€ä¸Šä¸‹æ–‡ï¼
      body: Center(child: ElevatedButton(
              child: Text("Go to Other"), onPressed: () => Get.to(Other()))),
      floatingActionButton:
          FloatingActionButton(child: Icon(Icons.add), onPressed: c.increment));
  }
}

class Other extends StatelessWidget {
  // ä½ å¯ä»¥è®©Getæ‰¾åˆ°ä¸€ä¸ªæ­£åœ¨è¢«å…¶ä»–é¡µé¢ä½¿ç”¨çš„Controllerï¼Œå¹¶å°†å®ƒè¿”å›ç»™ä½ ã€‚
  final Controller c = Get.find();

  @override
  Widget build(context){
     // è®¿é—®æ›´æ–°åçš„è®¡æ•°å˜é‡
     return Scaffold(body: Center(child: Text("${c.count}")));
  }
}
```
å¯ä»¥çœ‹å‡ºç¡®å®ä½¿ç”¨éå¸¸çš„ç®€å•ï¼Œè€Œä¸”å·²ç»ä¸å¤ªéµå¾ªMVCå’ŒMVVMç»“æ„äº†ï¼Œä½†å½±å“ä¸å¤§ï¼Œèƒ½é«˜æ•ˆçš„å¼€å‘æ‰æ˜¯å›½å†…å›¢é˜Ÿæœ€å…³å¿ƒçš„é—®é¢˜ã€‚æ›´å¤šè¯¦æƒ…è§[GetX readme](https://github.com/jonataslaw/getx/blob/master/README.zh-cn.md)ï¼
##### å®ç°åŸç†
å®ç°åŸç†è¿™å—ï¼Œæˆ‘åªç®€å•è§£æè¿™ä¸‰ç‚¹ï¼šâ‘  å¦‚ä½•åšåˆ°æ•°æ®é©±åŠ¨ï¼›â‘¡ å¦‚ä½•ç®¡ç†è·¯ç”±ï¼›â‘¢ è„±ç¦»äº†contextåï¼Œèµ„æºè¯¥å¦‚ä½•å›æ”¶ã€‚
1. GetXé€šè¿‡.obxæˆ–Obx(builder)å¯¹å˜é‡å®ç°è®¢é˜…ï¼Œä»¥å®ç°æ•°æ®ä¸€æ”¹å˜å°±é€šçŸ¥è§†å›¾æ”¹å˜çš„æ•ˆæœã€‚è¿™å—çš„å®ç°åŸç†è¿˜æ˜¯ç¦»ä¸å¼€dartçš„streamæµï¼Œé€šè¿‡æºç æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸¤è€…æœ€ç»ˆéƒ½æ˜¯ç»§æ‰¿äº`RxNotifier`ï¼Œè€Œ```RxNotifier``` with ```NotifyManager```ï¼Œ```NotifyManager```å°±æ˜¯æä¾›streamSubscriptionçš„æ‰©å±•ç±»ï¼›

``` dart
class RxNotifier<T> = RxInterface<T> with NotifyManager<T>;

mixin NotifyManager<T> {
  // æ³¨é‡Šï¼šé€šè¿‡GetStreamæä¾›onListen;onPause;onResumeçš„å›è°ƒ
  GetStream<T> subject = GetStream<T>(); 
  // æ³¨é‡Šï¼šMapå¯¹è±¡ï¼Œåç»­é€šè¿‡key-valueé”®å€¼å¯¹è¿›è¡Œé€šçŸ¥
  final _subscriptions = <GetStream, List<StreamSubscription>>{};

  bool get canUpdate => _subscriptions.isNotEmpty;

  // æ³¨é‡Šï¼šå†…éƒ¨æ–¹æ³•ï¼Œè®¢é˜…å†…éƒ¨æµçš„æ›´æ”¹
  void addListener(GetStream<T> rxGetx) {
    if (!_subscriptions.containsKey(rxGetx)) {
      final subs = rxGetx.listen((data) {
        if (!subject.isClosed) subject.add(data);
      });
      final listSubscriptions =
          _subscriptions[rxGetx] ??= <StreamSubscription>[];
      // å‘å‡ºé€šçŸ¥
      listSubscriptions.add(subs);
    }
  }

  StreamSubscription<T> listen(
    void Function(T) onData, {
    Function? onError,
    void Function()? onDone,
    bool? cancelOnError,
  }) =>
      subject.listen(
        onData,
        onError: onError,
        onDone: onDone,
        cancelOnError: cancelOnError ?? false,
      );

  /// æ³¨é‡Šï¼šå…³é—­è®¢é˜…ï¼Œé‡Šæ”¾èµ„æº
  void close() {
    _subscriptions.forEach((getStream, _subscriptions) {
      for (final subscription in _subscriptions) {
        subscription.cancel();
      }
    });

    _subscriptions.clear();
    subject.close();
  }
}
```
2. GetXçš„è·¯ç”±ç®¡ç†ä¹Ÿæ˜¯é€šè¿‡å°è£…Flutterçš„Navigatorï¼Œæ¯”å¦‚ï¼šGet.toName()å°±æ˜¯é€šè¿‡GetXæä¾›çš„å…¨å±€```NavigatorState```è¿˜æ˜¯è°ƒç”¨äº†```pushNamed```ï¼›
``` dart
Future<T?>? toNamed<T>(
  String page, {
  dynamic arguments,
  int? id,
  bool preventDuplicates = true,
  Map<String, String>? parameters,
}) {
  if (preventDuplicates && page == currentRoute) {
    return null;
  }

  if (parameters != null) {
    final uri = Uri(path: page, queryParameters: parameters);
    page = uri.toString();
  }

  // æ³¨é‡Šï¼šglobal(id).currentStateçš„å°±æ˜¯GetMaterialApp.routerä¸­çš„navigatorKey
  return global(id).currentState?.pushNamed<T>(
        page,
        arguments: arguments,
      );
}
```
3. ä»ç¬¬ä¸€ç‚¹æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•è¿›è¡Œæ•°æ®çŠ¶æ€çš„ç®¡ç†ï¼ŒåŒæ—¶NotifyManagerä¹Ÿæä¾›äº†closeçš„æ–¹æ³•å»é‡Šæ”¾èµ„æºï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬ä¸ç¦ä¼šé—®ï¼š**é‚£å•¥æ—¶å€™å»è°ƒç”¨closeé‡Šæ”¾èµ„æºå‘¢ï¼Ÿ** <br/>ç­”æ¡ˆæ˜¯ï¼š`é€šè¿‡widgetçš„disposeç”Ÿå‘½é’©å­è°ƒç”¨closeï¼Œä»è€Œé‡Šæ”¾èµ„æºã€‚`
``` dart
@override
void dispose() {
  if (widget.dispose != null) widget.dispose!(this);
  if (_isCreator! || widget.assignId) {
    if (widget.autoRemove && GetInstance().isRegistered<T>(tag: widget.tag)) {
      GetInstance().delete<T>(tag: widget.tag);
    }
  }
  _subs.cancel();
  // æ³¨é‡Šï¼šåœ¨è¿™é‡Œé‡Šæ”¾èµ„æº
  _observer.close();
  controller = null;
  _isCreator = null;
  super.dispose();
}
```

##### ä¼˜ç¼ºç‚¹
1. ã€ä¼˜ç‚¹ã€‘`ä½¿ç”¨æœ€ç®€å•`ï¼Œç”¨èµ·æ¥ç¡®å®å¾ˆç®€å•ï¼Œææ˜“ä¸Šæ‰‹ï¼›è„±ç¦»contextï¼Œéšæ—¶éšåœ°æƒ³ç”¨å°±ç”¨ï¼Œè§£å†³äº†BLoCå’ŒProviderçš„ç—›ç‚¹ï¼›
2. ã€ä¼˜ç‚¹ã€‘`å…¨å®¶æ¡¶å¼åŠŸèƒ½`ï¼Œä½¿ç”¨GetXåï¼Œæˆ‘ä»¬æ— éœ€å†å•ç‹¬å»åšè·¯ç”±ç®¡ç†ã€å›½é™…åŒ–ã€ä¸»é¢˜ã€å…¨å±€contextç­‰ï¼Œç”šè‡³è¿˜æ”¯æŒæœåŠ¡ç«¯å¼€å‘ï¼›
3. ã€ç¼ºç‚¹ã€‘ç¬¬2ç‚¹ä¼˜ç‚¹åŒæ ·ä¹Ÿæ˜¯ç¼ºç‚¹ï¼ŒGetXå¸®æˆ‘ä»¬å°è£…äº†å¾ˆå¤šæœ¬æ¥Flutterå°±æä¾›çš„Apiï¼Œå‡å°‘äº†å¼€å‘è€…å¾ˆå¤šçš„å·¥ä½œã€‚è¿™ä¼š`è®©é¡¹ç›®æåº¦ä¾èµ–GetX`ï¼Œè€Œåœ¨Flutteræ›´æ–°è¿­ä»£è¿™ä¹ˆå¿«çš„æƒ…å†µä¸‹ï¼Œè°ä¹Ÿä¸æ•¢ä¿è¯GetXå…¨å®¶æ¡¶çš„æ›´æ–°èŠ‚å¥ï¼Œä¸€æ—¦æ›´æ–°æ…¢äº†ï¼Œå¼€å‘è€…åªèƒ½ç­‰GetXï¼ˆå½“ç„¶èƒ½å¤Ÿå‚ä¸ç¤¾åŒºå¼€æºçš„å¦å½“åˆ«è®ºï¼‰ã€‚å¦å¤–ï¼ŒGetXçš„ä½¿ç”¨çœŸçš„å¤ªåŸºç¡€äº†ï¼Œè®©åˆå­¦è€…æ˜“ä¸Šæ‰‹çš„åŒæ—¶ï¼Œ`æŠ€æœ¯ä¹Ÿå®¹æ˜“åœç•™äºè¡¨é¢`ã€‚
### æ€»ç»“
![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a38c77818c514910866cf514c5a00ad5~tplv-k3u1fbpfcp-watermark.image?)

é™¤äº†ä¸Šè¯‰çš„å‡ ç§æ–¹æ¡ˆï¼Œè¿˜æœ‰å…¶ä»–çš„åº“ï¼Œå¦‚`redux`Â /Â `fish_redux`/ `RiverPod`,è¿™äº›åº“æœ‰çš„è¿‡äºå¤æ‚ï¼Œæœ‰çš„åˆšå‡ºä¸ä¹…ï¼Œç¬”è€…è°ƒç ”è¿‡ç¨‹ä¸­æœ‰ç•™æ„ä½†å¹¶æ²¡æœ‰ç”¨è¿‡ï¼Œæ´»è·ƒåº¦ç¡®å®ä¹Ÿæ²¡æœ‰ä¸Šé¢æ–¹æ¡ˆå¤šã€‚

æ€»ä¹‹ï¼ŒBLoCé€‚åˆç›¸å¯¹å¤§çš„å·¥ç¨‹åŒ–é¡¹ç›®å›¢é˜Ÿä½¿ç”¨ï¼Œæ¶æ„æ¸…æ™°ï¼›Providerå¾ˆçº¯ç²¹ï¼Œä¹Ÿå¾ˆå¥½ç”¨ï¼›GetXå…¨å®¶æ¡¶ä¸€æŠŠæ¢­ï¼Œæåº¦é€‚åˆæ–°æ‰‹å¼€å‘è€…......

### å†™åœ¨æœ€å
é€‰æ‹©å“ªç§çŠ¶æ€ç®¡ç†æ²¡æœ‰ä¸€å®šçš„ç­”æ¡ˆï¼Œ**`éš¾æ˜“ç¨‹åº¦ã€å¯ç»´æŠ¤æ€§ã€å¼€å‘æˆæœ¬ã€æ€§èƒ½éƒ½æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„å› ç´ ï¼Œå½“ç„¶ä¹Ÿè¦è§†å›¢é˜Ÿå’Œå…·ä½“åº”ç”¨åœºæ™¯è€Œå®šã€‚`** å¦‚æœä¸šåŠ¡åœºæ™¯åªæ˜¯ä¸€ä¸ªè¾“å…¥æ¡†å’ŒæŒ‰é’®ï¼Œè¿‡åº¦çš„æ¨¡å¼è®¾è®¡å…¶å®å°±ä¼šæ˜¾å¾—ç”»è›‡æ·»è¶³ã€‚
å¤§å®¶ç†æ€§é€‰æ‹©ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« å†è§ï¼