åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šç”¨åˆ°å€’è®¡æ—¶çš„æŒ‰é’®ï¼Œå¸¸ç”¨åœ¨å‘é€çŸ­ä¿¡éªŒè¯ç ä¸­ã€‚æœ€å·®çš„å†™æ³•æ˜¯æŠŠä»£ç å†™åœ¨`ViewController`ä¸­ã€‚è¿™æ ·çš„è¯å¦‚æœé¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ªå€’è®¡æ—¶æŒ‰é’®ï¼Œä»£ç å°±ååˆ†è‡ƒè‚¿äº†ã€‚æ‰€ä»¥å°è£…ä¸€ä¸ªå€’è®¡æ—¶æŒ‰é’®å°±è¿«åœ¨çœ‰ç«äº†ã€‚ä¼ é€é—¨[HLCountDownButton](https://github.com/huangchangweng/HLCountDownButton)ï¼Œæ¬¢è¿å¸®å¿™ç‚¹ç‚¹å°æ˜Ÿæ˜ŸğŸŒŸğŸŒŸ
- âœ… æ”¯æŒè¿‡`xib`ã€`storyboard`è‡ªå®šä¹‰æ ·å¼
- âœ… æ”¯æŒåˆ‡æ¢å‰åå°è®¡æ—¶å‡†ç¡®
- âœ… å¤šç§æ ·å¼åˆ‡æ¢
- âœ… æ”¯æŒ`CocoaPods`å¯¼å…¥`pod "HLCountDownButton"`
- âœ… æ”¯æŒå…¨å±€è®¾ç½®æ ·å¼
#### æ¼”ç¤ºå›¾

![Simulator Screen Shot - iPhone 11 - 2022-07-01 at 16.38.33.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79cd3cf3d0e4436e9b570abc66e9708b~tplv-k3u1fbpfcp-watermark.image?)

![gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/979f7f073c67473d83c7aaab1f1a4728~tplv-k3u1fbpfcp-zoom-1.image)
#### å¯é€‰è‡ªå®šä¹‰å±æ€§
```objc
/// æ ·å¼ï¼Œé»˜è®¤HLCountDownButtonTypeNormal
@property (nonatomic, assign) IBInspectable NSInteger hlType UI_APPEARANCE_SELECTOR;
/// æ˜¯å¦å¯ç”¨ï¼Œé»˜è®¤YES
@property (nonatomic, assign) IBInspectable BOOL hlEnabled UI_APPEARANCE_SELECTOR;
/// æ­£å¸¸æ ‡é¢˜ï¼Œé»˜è®¤â€œè·å–éªŒè¯ç â€
@property (nonatomic, copy) IBInspectable NSString *normalTitle UI_APPEARANCE_SELECTOR;
/// é‡æ–°è·å–æ ‡é¢˜ï¼Œé»˜è®¤â€œè·å–éªŒè¯ç â€
@property (nonatomic, copy) IBInspectable NSString *againTitle UI_APPEARANCE_SELECTOR;
/// å‘é€ä¸­æ ‡é¢˜æ ¼å¼ï¼Œé»˜è®¤â€œ%ds åè·å–â€
@property (nonatomic, copy) IBInspectable NSString *sendingTitleFormat UI_APPEARANCE_SELECTOR;
/// é«˜äº®é¢œè‰²ï¼Œé»˜è®¤0x4181FE
@property (nonatomic, strong) IBInspectable UIColor *highlightedColor UI_APPEARANCE_SELECTOR;
/// éé«˜äº®é¢œè‰²ï¼Œé»˜è®¤0xd2d2d2
@property (nonatomic, strong) IBInspectable UIColor *disabledColor UI_APPEARANCE_SELECTOR;
/// åœ†è§’åŠå¾„ï¼Œé»˜è®¤4
@property (nonatomic, assign) IBInspectable CGFloat cornerRadius UI_APPEARANCE_SELECTOR;
/// è¾¹æ¡†å®½åº¦ï¼Œé»˜è®¤0.5
@property (nonatomic, assign) IBInspectable CGFloat borderWidth UI_APPEARANCE_SELECTOR;
/// å€’è®¡æ—¶é•¿ï¼Œé»˜è®¤60s
@property (nonatomic, assign) IBInspectable NSInteger countDownSize UI_APPEARANCE_SELECTOR;
```
#### 3ç§æ ·å¼é€‰æ‹©
``` objc
typedef NS_ENUM(NSInteger, HLCountDownButtonType) {
    HLCountDownButtonTypeNormal,            ///< æ— èƒŒæ™¯ï¼Œæ— è¾¹æ¡†
    HLCountDownButtonTypeOnlyLine,          ///< æ— èƒŒæ™¯ï¼Œæœ‰è¾¹æ¡†
    HLCountDownButtonTypeOnlyBackground,    ///< æœ‰èƒŒæ™¯ï¼Œæ— è¾¹æ¡†
};
```
#### å›è°ƒè¯´æ˜
``` objc
__weak typeof(self) weakSelf = self;
self.countDownButton.startBlock = ^(){
    // TODO ç‚¹å‡»äº†å€’è®¡æ—¶æŒ‰é’®ï¼Œè¿™é‡Œå¯è¿›è¡Œå‘é€éªŒè¯ç æ“ä½œ
    // [weakSelf sendCodeMsg];
};
```
> æ³¨æ„ï¼šç‚¹å‡»äº†ä¼šæœ‰`startBlock`å›è°ƒï¼Œå°±ä¸è¦ä¸º`HLCountDownButton`æ·»åŠ ç‚¹å‡»`Action`äº†

#### å…¨å±€æ ·å¼è®¾ç½®

å¦‚æœæ‚¨é¡¹ç›®ä¸­å¤šä¸ªåœ°æ–¹ä½¿ç”¨åˆ°è¯¥ç»„ä»¶ï¼Œæ‚¨å¯ä»¥å…¨å±€è®¾ç½®æ ·å¼ï¼Œä¾‹åœ¨`AppDelegate`æ·»åŠ 

``` objc
[HLCountDownButton appearance].highlightedColor = [UIColor redColor];
```

> æ³¨æ„ï¼š`ä»£ç ` > `appearance` > `interface builder`ï¼Œæ‰€ä»¥appearanceè®¾ç½®çš„ä¼šè¦†ç›–åœ¨xibæˆ–storyboardä¸­è®¾ç½®çš„å±æ€§ï¼Œå½“ç„¶`ä»£ç `ä¼šè¦†ç›–`appearance`è®¾ç½®

å¦‚æœä½ è§‰å¾—å°è£…çš„è¿˜è¡Œï¼Œå¸®å¿™å°æ˜Ÿæ˜ŸğŸŒŸğŸŒŸæ”¯æŒä¸€ä¸‹ã€‚ä¼ é€é—¨[HLCountDownButton](https://github.com/huangchangweng/HLCountDownButton)